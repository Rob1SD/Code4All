var grid = createGrid(20, 20, null);

var pc0 = createPc(0, 2, 2, 1, 1, 95);
grid.addPc(pc0);


var block0 = createBlock(0, 1, 1, 1, 1, 88);
grid.addBlock(block0);

var block1 = createBlock(1, 1, 2, 1, 1, 88);
grid.addBlock(block1);

var block2 = createBlock(2, 1, 3, 1, 1, 88);
grid.addBlock(block2);

var block3 = createBlock(3, 1, 4, 1, 1, 88);
grid.addBlock(block3);

var block4 = createBlock(4, 2, 1, 1, 1, 88);
grid.addBlock(block4);

var block5 = createBlock(5, 3, 1, 1, 1, 88);
grid.addBlock(block5);

var block6 = createBlock(6, 4, 1, 1, 1, 88);
grid.addBlock(block6);

var block7 = createBlock(7, 5, 1, 1, 1, 88);
grid.addBlock(block7);

var block8 = createBlock(8, 6, 1, 1, 1, 88);
grid.addBlock(block8);

var block9 = createBlock(9, 7, 1, 1, 1, 88);
grid.addBlock(block9);

var block10 = createBlock(10, 8, 1, 1, 1, 88);
grid.addBlock(block10);

var block11 = createBlock(11, 9, 1, 1, 1, 88);
grid.addBlock(block11);

var block12 = createBlock(12, 10, 1, 1, 1, 88);
grid.addBlock(block12);

var block13 = createBlock(13, 11, 1, 1, 1, 88);
grid.addBlock(block13);

var block14 = createBlock(14, 12, 1, 1, 1, 88);
grid.addBlock(block14);

var block15 = createBlock(15, 13, 1, 1, 1, 88);
grid.addBlock(block15);

var block16 = createBlock(16, 14, 1, 1, 1, 88);
grid.addBlock(block16);

var block17 = createBlock(17, 15, 1, 1, 1, 88);
grid.addBlock(block17);

var block18 = createBlock(18, 16, 1, 1, 1, 88);
grid.addBlock(block18);

var block19 = createBlock(19, 16, 1, 1, 1, 88);
grid.addBlock(block19);

var block20 = createBlock(20, 18, 1, 1, 1, 88);
grid.addBlock(block20);

var block21 = createBlock(21, 17, 1, 1, 1, 88);
grid.addBlock(block21);

var block22 = createBlock(22, 19, 1, 1, 1, 88);
grid.addBlock(block22);

var block23 = createBlock(23, 20, 1, 1, 1, 88);
grid.addBlock(block23);

var block24 = createBlock(24, 20, 2, 1, 1, 88);
grid.addBlock(block24);

var block26 = createBlock(26, 20, 4, 1, 1, 88);
grid.addBlock(block26);

var block28 = createBlock(28, 20, 3, 1, 1, 88);
grid.addBlock(block28);

var block25 = createBlock(29, 20, 5, 1, 1, 88);
grid.addBlock(block25);

var block27 = createBlock(30, 20, 6, 1, 1, 88);
grid.addBlock(block27);

var block29 = createBlock(31, 20, 7, 1, 1, 88);
grid.addBlock(block29);

var block30 = createBlock(32, 20, 8, 1, 1, 88);
grid.addBlock(block30);

var block31 = createBlock(33, 20, 9, 1, 1, 88);
grid.addBlock(block31);

var block32 = createBlock(34, 20, 10, 1, 1, 88);
grid.addBlock(block32);

var block33 = createBlock(35, 20, 11, 1, 1, 88);
grid.addBlock(block33);

var block34 = createBlock(36, 20, 12, 1, 1, 88);
grid.addBlock(block34);

var block35 = createBlock(37, 20, 13, 1, 1, 88);
grid.addBlock(block35);

var block36 = createBlock(38, 20, 14, 1, 1, 88);
grid.addBlock(block36);

var block37 = createBlock(39, 20, 15, 1, 1, 88);
grid.addBlock(block37);

var block38 = createBlock(40, 20, 16, 1, 1, 88);
grid.addBlock(block38);

var block39 = createBlock(41, 20, 17, 1, 1, 88);
grid.addBlock(block39);

var block40 = createBlock(42, 20, 18, 1, 1, 88);
grid.addBlock(block40);

var block41 = createBlock(43, 20, 19, 1, 1, 88);
grid.addBlock(block41);

var block42 = createBlock(44, 20, 20, 1, 1, 88);
grid.addBlock(block42);

var block43 = createBlock(45, 19, 20, 1, 1, 88);
grid.addBlock(block43);

var block44 = createBlock(46, 17, 20, 1, 1, 88);
grid.addBlock(block44);

var block45 = createBlock(47, 18, 20, 1, 1, 88);
grid.addBlock(block45);

var block46 = createBlock(48, 16, 20, 1, 1, 88);
grid.addBlock(block46);

var block47 = createBlock(49, 15, 20, 1, 1, 88);
grid.addBlock(block47);

var block48 = createBlock(50, 14, 20, 1, 1, 88);
grid.addBlock(block48);

var block49 = createBlock(51, 13, 20, 1, 1, 88);
grid.addBlock(block49);

var block50 = createBlock(52, 12, 20, 1, 1, 88);
grid.addBlock(block50);

var block51 = createBlock(53, 11, 20, 1, 1, 88);
grid.addBlock(block51);

var block52 = createBlock(54, 10, 20, 1, 1, 88);
grid.addBlock(block52);

var block53 = createBlock(55, 9, 20, 1, 1, 88);
grid.addBlock(block53);

var block54 = createBlock(56, 8, 20, 1, 1, 88);
grid.addBlock(block54);

var block55 = createBlock(57, 7, 20, 1, 1, 88);
grid.addBlock(block55);

var block56 = createBlock(58, 6, 20, 1, 1, 88);
grid.addBlock(block56);

var block57 = createBlock(59, 5, 20, 1, 1, 88);
grid.addBlock(block57);

var block58 = createBlock(60, 4, 20, 1, 1, 88);
grid.addBlock(block58);

var block59 = createBlock(61, 3, 20, 1, 1, 88);
grid.addBlock(block59);

var block60 = createBlock(62, 2, 20, 1, 1, 88);
grid.addBlock(block60);

var block61 = createBlock(63, 1, 20, 1, 1, 88);
grid.addBlock(block61);

var block62 = createBlock(64, 1, 5, 1, 1, 88);
grid.addBlock(block62);

var block63 = createBlock(65, 1, 6, 1, 1, 88);
grid.addBlock(block63);

var block64 = createBlock(66, 1, 7, 1, 1, 88);
grid.addBlock(block64);

var block65 = createBlock(67, 1, 8, 1, 1, 88);
grid.addBlock(block65);

var block66 = createBlock(68, 1, 9, 1, 1, 88);
grid.addBlock(block66);

var block67 = createBlock(69, 1, 10, 1, 1, 88);
grid.addBlock(block67);

var block68 = createBlock(70, 1, 11, 1, 1, 88);
grid.addBlock(block68);

var block69 = createBlock(71, 1, 12, 1, 1, 88);
grid.addBlock(block69);

var block70 = createBlock(72, 1, 13, 1, 1, 88);
grid.addBlock(block70);

var block71 = createBlock(73, 1, 14, 1, 1, 88);
grid.addBlock(block71);

var block72 = createBlock(74, 1, 15, 1, 1, 88);
grid.addBlock(block72);

var block73 = createBlock(75, 1, 16, 1, 1, 88);
grid.addBlock(block73);

var block74 = createBlock(76, 1, 17, 1, 1, 88);
grid.addBlock(block74);

var block75 = createBlock(77, 1, 18, 1, 1, 88);
grid.addBlock(block75);

var block76 = createBlock(78, 1, 19, 1, 1, 88);
grid.addBlock(block76);
var block77 = createBlock(79, 3, 2, 1, 1, 88);
grid.addBlock(block77);

var block78 = createBlock(80, 3, 3, 1, 1, 88);
grid.addBlock(block78);

var block79 = createBlock(81, 3, 4, 1, 1, 88);
grid.addBlock(block79);

var block80 = createBlock(82, 3, 5, 1, 1, 88);
grid.addBlock(block80);

var block81 = createBlock(83, 3, 8, 1, 1, 88);
grid.addBlock(block81);

var block82 = createBlock(84, 4, 4, 1, 1, 88);
grid.addBlock(block82);

var block83 = createBlock(85, 5, 4, 1, 1, 88);
grid.addBlock(block83);

var block84 = createBlock(86, 3, 9, 1, 1, 88);
grid.addBlock(block84);

var block85 = createBlock(87, 4, 10, 1, 1, 88);
grid.addBlock(block85);

var block86 = createBlock(88, 5, 11, 1, 1, 88);
grid.addBlock(block86);

var block87 = createBlock(89, 2, 13, 1, 1, 88);
grid.addBlock(block87);

var block88 = createBlock(90, 8, 2, 1, 1, 88);
grid.addBlock(block88);

var block89 = createBlock(91, 8, 3, 1, 1, 88);
grid.addBlock(block89);

var block90 = createBlock(92, 8, 4, 1, 1, 88);
grid.addBlock(block90);

var block91 = createBlock(93, 8, 5, 1, 1, 88);
grid.addBlock(block91);

var block92 = createBlock(94, 9, 5, 1, 1, 88);
grid.addBlock(block92);

var block93 = createBlock(95, 10, 5, 1, 1, 88);
grid.addBlock(block93);

var block94 = createBlock(96, 10, 6, 1, 1, 88);
grid.addBlock(block94);

var block95 = createBlock(97, 11, 7, 1, 1, 88);
grid.addBlock(block95);

var block96 = createBlock(98, 4, 8, 1, 1, 88);
grid.addBlock(block96);

var block97 = createBlock(99, 5, 8, 1, 1, 88);
grid.addBlock(block97);

var block98 = createBlock(100, 6, 8, 1, 1, 88);
grid.addBlock(block98);

var block99 = createBlock(101, 6, 11, 1, 1, 88);
grid.addBlock(block99);

var block100 = createBlock(102, 7, 12, 1, 1, 88);
grid.addBlock(block100);

var block101 = createBlock(103, 12, 8, 1, 1, 88);
grid.addBlock(block101);

var block102 = createBlock(104, 14, 8, 1, 1, 88);
grid.addBlock(block102);

var block103 = createBlock(105, 14, 7, 1, 1, 88);
grid.addBlock(block103);

var block104 = createBlock(106, 14, 5, 1, 1, 88);
grid.addBlock(block104);

var block105 = createBlock(107, 14, 6, 1, 1, 88);
grid.addBlock(block105);

var block106 = createBlock(108, 13, 5, 1, 1, 88);
grid.addBlock(block106);

var block107 = createBlock(109, 12, 5, 1, 1, 88);
grid.addBlock(block107);

var block108 = createBlock(110, 16, 2, 1, 1, 88);
grid.addBlock(block108);

var block109 = createBlock(111, 17, 3, 1, 1, 88);
grid.addBlock(block109);

var block110 = createBlock(112, 18, 4, 1, 1, 88);
grid.addBlock(block110);

var block111 = createBlock(113, 17, 5, 1, 1, 88);
grid.addBlock(block111);

var block112 = createBlock(114, 16, 6, 1, 1, 88);
grid.addBlock(block112);

var block113 = createBlock(115, 16, 7, 1, 1, 88);
grid.addBlock(block113);

var block114 = createBlock(116, 16, 8, 1, 1, 88);
grid.addBlock(block114);

var block115 = createBlock(117, 16, 9, 1, 1, 88);
grid.addBlock(block115);

var block116 = createBlock(118, 16, 10, 1, 1, 88);
grid.addBlock(block116);

var block117 = createBlock(119, 17, 10, 1, 1, 88);
grid.addBlock(block117);

var pc1 = createPc(1, 18, 3, 1, 1, 104);
grid.addPc(pc1);

var block118 = createBlock(120, 8, 11, 1, 1, 88);
grid.addBlock(block118);

var block119 = createBlock(121, 9, 9, 1, 1, 88);
grid.addBlock(block119);

var block120 = createBlock(122, 9, 10, 1, 1, 88);
grid.addBlock(block120);

var block121 = createBlock(123, 10, 11, 1, 1, 88);
grid.addBlock(block121);

var block122 = createBlock(124, 11, 11, 1, 1, 88);
grid.addBlock(block122);

var block123 = createBlock(125, 12, 11, 1, 1, 88);
grid.addBlock(block123);

var block124 = createBlock(126, 14, 12, 1, 1, 88);
grid.addBlock(block124);

var block125 = createBlock(127, 14, 13, 1, 1, 88);
grid.addBlock(block125);

var block126 = createBlock(128, 14, 14, 1, 1, 88);
grid.addBlock(block126);

var block127 = createBlock(129, 14, 15, 1, 1, 88);
grid.addBlock(block127);

var block128 = createBlock(130, 15, 15, 1, 1, 88);
grid.addBlock(block128);

var block129 = createBlock(131, 16, 15, 1, 1, 88);
grid.addBlock(block129);

var block130 = createBlock(132, 16, 14, 1, 1, 88);
grid.addBlock(block130);

var block131 = createBlock(133, 16, 12, 1, 1, 88);
grid.addBlock(block131);

var block132 = createBlock(134, 16, 13, 1, 1, 88);
grid.addBlock(block132);

var block133 = createBlock(135, 8, 15, 1, 1, 88);
grid.addBlock(block133);

var block134 = createBlock(136, 6, 14, 1, 1, 88);
grid.addBlock(block134);

var block135 = createBlock(137, 7, 15, 1, 1, 88);
grid.addBlock(block135);

var block136 = createBlock(138, 9, 15, 1, 1, 88);
grid.addBlock(block136);

var block137 = createBlock(139, 9, 16, 1, 1, 88);
grid.addBlock(block137);

var block138 = createBlock(140, 9, 17, 1, 1, 88);
grid.addBlock(block138);

var block139 = createBlock(141, 9, 18, 1, 1, 88);
grid.addBlock(block139);

var block140 = createBlock(142, 8, 18, 1, 1, 88);
grid.addBlock(block140);

var block141 = createBlock(143, 7, 19, 1, 1, 88);
grid.addBlock(block141);

var block142 = createBlock(144, 17, 15, 1, 1, 88);
grid.addBlock(block142);

var block143 = createBlock(145, 18, 15, 1, 1, 88);
grid.addBlock(block143);

var block144 = createBlock(146, 18, 15, 1, 1, 88);
grid.addBlock(block144);

var block145 = createBlock(147, 19, 15, 1, 1, 88);
grid.addBlock(block145);

function avanceDroite(){
    var mario = grid.getPc(0);
    var newPosRow = mario.row;
    var newPosColumn = mario.column + 1;
    var blocks = grid.getBlocks();
    for (var i = 0; i < blocks.length; ++i){
        if (blocks[i].column == newPosColumn && blocks[i].row == newPosRow){
            grid.end("Mario ne peut pas traverser les murs, il y a un mur a droite");
        }
    }
    mario.changePattern(78);
    mario.changeColumn(newPosColumn);
    grid.saveState();
}
var marioAvanceDroite = createFunction("avanceDroite", avanceDroite, "avance Mario vers la droite si pas de block");
grid.addFunction(marioAvanceDroite);

function avanceGauche(){
    var mario = grid.getPc(0);
    var newPosRow = mario.row;
    var newPosColumn = mario.column - 1;
    var blocks = grid.getBlocks();
    for (var i = 0; i < blocks.length; ++i){
        if (blocks[i].column == newPosColumn && blocks[i].row == newPosRow){
            grid.end("Mario ne peut pas traverser les murs, il y a un mur a gauche");
        }
    }
    mario.changePattern(89);
    mario.changeColumn(newPosColumn);
    grid.saveState();
}
var marioAvanceGauche = createFunction("avanceGauche", avanceGauche, "avance Mario vers la gauche si pas de block");
grid.addFunction(marioAvanceGauche);

function avanceHaut(){
    var mario = grid.getPc(0);
    var newPosRow = mario.row - 1;
    var newPosColumn = mario.column;
    var blocks = grid.getBlocks();
    for (var i = 0; i < blocks.length; ++i){
        if (blocks[i].column == newPosColumn && blocks[i].row == newPosRow){
            grid.end("Mario ne peut pas traverser les murs, il y a un mur en haut");
        }
    }
    mario.changeRow(newPosRow);
    grid.saveState();
}
var marioAvanceHaut = createFunction("avanceHaut", avanceHaut, "avance Mario vers le haut si pas de block");
grid.addFunction(marioAvanceHaut);

function avanceBas(){
    var mario = grid.getPc(0);
    var newPosRow = mario.row + 1;
    var newPosColumn = mario.column;
    var blocks = grid.getBlocks();
    for (var i = 0; i < blocks.length; ++i){
        if (blocks[i].column == newPosColumn && blocks[i].row == newPosRow){
            grid.end("Mario ne peut pas traverser les murs, il y a un mur en bas");
        }
    }
    mario.changeRow(newPosRow);
    grid.saveState();
}
var marioAvanceBas = createFunction("avanceBas", avanceBas, "avance Mario vers le bas si pas de block");
grid.addFunction(marioAvanceBas);

function blockADroite(){
    var mario = grid.getPc(0);
    var blocks = grid.getBlocks();
    var newPosRow = mario.row;
    var newPosColumn = mario.column + 1;
    for (var i = 0; i < blocks.length; ++i){
        if (blocks[i].column == newPosColumn && blocks[i].row == newPosRow){
            return true;
        }
    }
    return false;
}
var bd = createFunction("blockADroite", blockADroite, "y a t'il un block a droite");
grid.addFunction(bd);

function blockAGauche(){
    var mario = grid.getPc(0);
    var blocks = grid.getBlocks();
    var newPosRow = mario.row;
    var newPosColumn = mario.column - 1;
    for (var i = 0; i < blocks.length; ++i){
        if (blocks[i].column == newPosColumn && blocks[i].row == newPosRow){
            return true;
        }
    }
    return false;
}
var bg = createFunction("blockAGauche", blockAGauche, "y a t'il un block a gauche");
grid.addFunction(bg);

function blockEnHaut(){
    var mario = grid.getPc(0);
    var blocks = grid.getBlocks();
    var newPosRow = mario.row - 1;
    var newPosColumn = mario.column;
    for (var i = 0; i < blocks.length; ++i){
        if (blocks[i].column == newPosColumn && blocks[i].row == newPosRow){
            return true;
        }
    }
    return false;
}
var bh = createFunction("blockEnHaut", blockEnHaut, "y a t'il un block en haut");
grid.addFunction(bh);

function blockEnBas(){
    var mario = grid.getPc(0);
    var blocks = grid.getBlocks();
    var newPosRow = mario.row + 1;
    var newPosColumn = mario.column;
    for (var i = 0; i < blocks.length; ++i){
        if (blocks[i].column == newPosColumn && blocks[i].row == newPosRow){
            return true;
        }
    }
    return false;
}
var bb = createFunction("blockEnBas", blockEnBas, "y a t'il un block en bas");
grid.addFunction(bb);

function foundLuigi(){
    var mario = grid.getPc(0);
    var luigi = grid.getPc(1);
    if (luigi.column == mario.column && mario.row == luigi.row){
        return true;
    }
    return false;
}
var fLuigi = createFunction("foundLuigi", foundLuigi, "Mario a t'il trouvé luigi ?");
grid.addFunction(fLuigi);

function foundLuigiTest(){
    var mario = grid.getPc(0);
    var luigi = grid.getPc(1);
    if (luigi.column == mario.column && mario.row == luigi.row){
        return [true, "vous avez trouvé luigi"];
    }
    return [false, "vous n'avez pas trouvé luigi"];;
}
var fLuigit = createFunction("foundLuigiTest", foundLuigiTest, "Mario a t'il trouvé luigi ?");
grid.addTest(fLuigit)














